import{g as t}from"./p-bd5842d7.js";import{c as n}from"./p-40b98907.js";function e(t){let n=this;Object.keys(t).forEach(function(e){n[e]=t[e]})}function l(t,n){try{let e=this;if(e.rootModel){let l=t;return e.parentChain&&(l=`${e.parentChain}.${t}`),e.rootModel.setChainValue(l,n),!0}return!1}catch(t){console.error(t)}return!1}function o(n,e){if(n||!e)return;let l,o,i,r=this,u=t(r);if(null!==u.getAttribute("data-view-model")&&"psk-for-each"===u.tagName.toLowerCase())return l=u.getAttribute("data-view-model"),r.__assignProperties.call(r,{rootModel:e,parentChain:i=l}),void r.render.call(r);if(l=u.getAttribute("view-model"),i=l,null===l&&(null!==(o=null===u.getAttribute("name")||u.getAttribute("name").startsWith("@")?null:u.getAttribute("name"))||null===u.getAttribute("label")||u.getAttribute("label").startsWith("@")||(o=u.getAttribute("label").replace(/( |:|\/|\.|-)/g,"").toLowerCase()),i=o),!l&&!o)return function(n,e,l){let o=this;const i=t(o);Array.from(i.attributes).filter(t=>t.value.startsWith(l)).forEach(t=>{const i=t.value.split(l)[1],r=n?`${n}.${i}`:i;o[t.name]=e.getChainValue(r),e.onChange(r,function(){o[t.name]=e.getChainValue(r)})})}.call(r,i,e,"@"),function(n,e,l){let o=this;const i=t(o);Array.from(i.attributes).filter(t=>t.name.startsWith(l)).forEach(t=>{const i=t.name.split(l)[1];o[i]=e.getChainValue(n?`${n}.${t.value}`:t.value)})}.call(r,i,e,"view-model-"),void r.render.call(r);function c(t,n){r[t]=e.getChainValue(n),e.onChange(n,function(){r[t]=e.getChainValue(n)})}if(r.__assignProperties.call(r,{rootModel:e,parentChain:i}),l){let t=e.getChainValue(i);if(!t)return;return Object.keys(t).forEach(t=>{c(t,`${i}.${t}`)}),void function(){const t=`${i}.value`;e.getChainValue(i)&&!e.getChainValue(t)&&c("value",t)}()}}function i(){return function(i){let{componentWillLoad:r,render:u}=i;i.componentWillLoad=function(){let i=t(this);return this.render=u,this.changeModel=l,this.__assignProperties=e,n("getModelEvent",{bubbles:!0,composed:!0,cancellable:!0,detail:{callback:o.bind(this)}},!0,i),r&&r.call(this)}}}export{i as B};