import{h as t,r as s,g as e}from"./p-2972acc2.js";const i=class{constructor(t){s(this,t),this.isOpened=!1,this.dropDownHasChildActive=!1,this.somethingChanged=!1}handleClick(t){const s=t.target;e(this).contains(s)||(this.isOpened=!1)}routeChanged(){this.dropDownHasChildActive=window.location.href.includes(this.url)}toggleDropdown(t){let s=t.target,e=!1;for(;s.parentElement;)if((s=s.parentElement).classList.contains("children")){e=!0;break}e||(this.isOpened||this.history.push(this.firstMenuChild.path),t.stopImmediatePropagation()),this.isOpened=!this.isOpened}render(){return this.routeChanged(),t("div",{class:`dropdown ${this.dropDownHasChildActive?"active":""} ${this.isOpened?"isOpened":""}`,onClick:t=>this.toggleDropdown(t)},t("slot",null))}};(()=>{let s=new Map,e={historyType:"browser",location:{pathname:"",query:{},key:""},titleSuffix:"",root:"/",routeViewsUpdated:()=>{}};const i=(t,s)=>{Array.isArray(t)?[...t].forEach(t=>{s[t]=e[t]}):s[t]=Object.assign({},e)},r=(t,e)=>(s.has(t)||(s.set(t,e),i(e,t)),()=>{s.has(t)&&s.delete(t)});return{Provider:({state:t},r)=>(e=t,s.forEach(i),r),Consumer:(s,e)=>((s,e)=>t("context-consumer",{subscribe:s,renderer:e}))(r,e[0]),injectProps:(t,e)=>{const i=t.prototype,o=i.connectedCallback,n=i.disconnectedCallback;i.connectedCallback=function(){if(r(this,e),o)return o.call(this)},i.disconnectedCallback=function(){s.delete(this),n&&n.call(this)}}}})().injectProps(i,["history","location"]);export{i as expandable_renderer};