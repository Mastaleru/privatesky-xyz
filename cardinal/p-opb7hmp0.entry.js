import{r as t,c as s,h as e,g as o}from"./p-bd5842d7.js";import{C as r}from"./p-853e84b9.js";const i="PskScrollEvent";class n extends CustomEvent{constructor(t,s,e){super(t,e),this.getEventType=function(){return i},this.parentEventData=s}}const l=class{constructor(e){t(this,e),this.mobileLayout=!1,this.componentCode="",this.hasSlot=!1,this.htmlLoader=this.__createLoader(),document.getElementsByTagName("body")[0].appendChild(this.htmlLoader),this.routeChangedEvent=s(this,"routeChanged",7),this.cfReadyEvent=s(this,"controllerFactoryIsReady",7)}__createLoader(){let t="";for(let s=1;s<=12;s++)t+=`<div class="sk-circle${s} sk-circle"></div>`;let s=document.createElement("div");return s.className="app-loader",s.innerHTML=`<div class='sk-fading-circle'>${t}</div>`,s}componentWillLoad(){let t=this.host.innerHTML;if((t=t.replace(/\s/g,"")).length&&(this.hasSlot=!0),"string"==typeof this.controller)return new Promise((t,s)=>{r.getController(this.controller).then(s=>{new s(this.host),t()}).catch(s)});console.error("No controller added to app-root")}componentDidLoad(){document.getElementsByTagName("body")[0].removeChild(this.htmlLoader)}render(){return this.hasSlot?e("slot",null):e("psk-default-renderer",{handleScrollEvent:this.handleScrollEvent.bind(this)})}handleScrollEvent(t){t.preventDefault(),t.stopImmediatePropagation(),t.target.dispatchEvent(new n("pageScroll",t.target,{bubbles:!0,composed:!0,cancelable:!0}))}get host(){return o(this)}};export{l as psk_app_root};