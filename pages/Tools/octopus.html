<psk-page title="Octopus">
    <psk-toc title="Table of contents"></psk-toc>
    <psk-chapter title="Description">
        <b>Octopus</b> is an adaptive and extendable Javascript task runner built without dependencies. It’s designed to handle all PrivateSky and related subprojects dependencies installation, updates, builds and so on. It bundles a collection of actions and scripts that can prove useful when needed to automate diverse types of development tasks. Octopus has a plugin mechanism in order to support in order to extend the action collection.
    </psk-chapter>
    <psk-chapter title="Configuration">
        Octopus knows what tasks to execute for a specific purpose by reading the configuration file called octopus.json
        and executing one task at a time specified in configuration. The configuration file respects the JSON type file.<br>
        Example of an <b>octopus.json</b> file can be found accessing <a href="https://raw.githubusercontent.com/PrivateSky/privatesky/master/octopus.json">this link</a><br>
        The structure of the <b>octopus.json</b> file is represented by an dictionary of tasks organized by purpose:
        <psk-code language="JavaScript">
            {
            “workDir”:”relative_or_global_path_to_be_used_as_current_working_dir”,
            “purpose#1”: [task1, task2 ...],
            “purpose#2”: [task1, task2 ...],
            ...
            }
        </psk-code>
    </psk-chapter>

    <psk-chapter title="Actions">
        <psk-table header="true" footer="false">
            <p>Name (A>Z)</p>|Description
            <b>checksum</b>|<p>Checksum is used to calculate the checksum of a specific file/Dir passed via {String}<b>action.src</b> and compare the result with a pre-recorded attribute passed via {String}<b>action.expectedChecksum</b>.<br>The checksum can be calculated with specific options {String}<b>action.algorithm</b>, {String}<b>action.encoding</b></p>
            <b>clone</b>|<p>Clone used to make a git clone of repo {String}<b>dependency.src</b> in a specific location {String}<b>action.target</b><br>Optional clone options can be specified in {Object}<b>action.options</b><br>Optional credentials: username and password can be specified in {Object}<b>dependency.credentials</b></p>
            <b>commit</b>|<p>Commit action can be used in release scripts to automate the push of a new version.<br>Commit is used to automate steps like git add -A, commit and push into a repo {String}<b>dependency.src</b> in a specific location {String}<b>action.target</b><br>Optional clone options can be specified in {Object}action.options<br>Optional credentials: username and password can be specified in {Object}<b>dependency.credentials</b></p>
            <b>copy</b>|<p>Copy a file or a directory, from {String}<b>dependency.src</b> to {String}<b>action.target</b><br>NOTE: If src is a directory it will copy everything inside of the directory, not the entire directory itself.<br>NOTE: If src is a file, target cannot be a directory.</p>
            <b>download</b>|<p>Download function, downloads from a source {String}<b>dependency.src</b> to a target {String}<b>action.target</b></p>
            <b>execute</b>|<p>Execute action can be used to extend the capabilities of Octopus to execute specific terminal command passed via {String}<b>action.cmd</b> argument.<br>Optional can be passed command arguments via {Array}<b>action.args</b><br>Optional can receive options like cwd, stdio configuration etc. via {Object}<b>action.options</b></p>
            <b>extract</b>|<p>Extracts a .zip file from a source path {String}<b>action.src</b> to a specific path {String}<b>action.target</b></p>
            <b>install</b>|<p>Install action is capable to automate the installation of a dependency from a source (e.g. npm or URL package)</p>
            <b>move</b>|<p>Moves file or directory from {String}<b>actions.src</b> to {String}<b>action.target</b></p>
            <b>mkdir</b>|<p>Creates a new folder based on {String}<b>action.target</b></p>
            <b>remove</b>|<p>Remove a file or directory from a specified path {String}<b>action.target</b></p>
            <b>smartClone</b>|<p>SmartClone action tries to execute a git clone command and if it finds the repo already cloned and the origin remote matches {String}<b>dependency.src</b> then executes git pull in order to update the repo.</p>
        </psk-table>
    </psk-chapter>
</psk-page>
