import{g as e}from"./p-9835b40a.js";import{c as t}from"./p-6aa7f1b2.js";function n(e){let t=this;Object.keys(e).forEach((function(n){t[n]=e[n]}))}function o(e,t){try{let n=this;if(n.rootModel){let o=e;return n.parentChain&&(o=`${n.parentChain}.${e}`),n.rootModel.setChainValue(o,t),!0}return!1}catch(n){console.error(n)}return!1}function l(t,n){if(t||!n)return;let o,l,i,r=this,c=e(r);if(null!==c.getAttribute("data-view-model")&&"psk-for-each"===c.tagName.toLowerCase())return o=c.getAttribute("data-view-model"),r.__assignProperties.call(r,{rootModel:n,parentChain:i=o}),void r.render.call(r);if(o=c.getAttribute("view-model"),i=o,null===o&&(null===(l=c.getAttribute("name"))&&null!==c.getAttribute("label")&&(l=c.getAttribute("label").replace(/( |:|\/|\.|-)/g,"").toLowerCase()),i=l),o||l){if(r.__assignProperties.call(r,{rootModel:n,parentChain:i}),o){let e=n.getChainValue(i);if(!e)return;return Object.keys(e).forEach(e=>{a(e,`${i}.${e}`)}),void u()}for(let e=0;e<c.attributes.length;++e){const t=c.attributes[e];if(t.value.startsWith("@")){const e=t.value.split("@")[1];a(e,i?`${i}.${e}`:e)}}u()}function a(e,t){r[e]=n.getChainValue(t),n.onChange(t,(function(){r[e]=n.getChainValue(t)}))}function u(){const e=`${i}.value`;n.getChainValue(i)&&!n.getChainValue(e)&&a("value",e)}}function i(){return function(i){let{componentWillLoad:r,render:c}=i;i.componentWillLoad=function(){let i=this,a=e(i);function u(){t("getModelEvent",{bubbles:!0,composed:!0,cancellable:!0,detail:{callback:l.bind(i)}},!0,a),console.log("{BindModel} The model listener is ready!")}return i.render=c,i.changeModel=o,i.__assignProperties=n,"get-model"===a.getAttribute("get-model")?u():document.addEventListener("modelReady",(function(){u()})),r&&r.call(i)}}}export{i as B};