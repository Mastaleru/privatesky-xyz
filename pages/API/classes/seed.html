<psk-page title="Seed class">
    <psk-toc title="In this section"></psk-toc>
    <psk-chapter title="Overview">
        <psk-highlight type-of-highlight="note">
            The <code>Seed</code> class encapsulates the concept of SEED and provides an API for creating and manipulating SEEDs.
            A <code>SEED</code> is an integral part of <code>Brick Archive</code> and has two roles: provides a unique identifier
            for locating a <code>bar</code> in <code>EDFS</code> and provides a cryptographic key for encrypting and decrypting the
            bar. A SEED's internal structure is presented below:
        </psk-highlight>
        <psk-code language="JavaScript">
            {
                "id": "Buffer",
                "endpoint": "string"
            }
        </psk-code>
         <psk-card title="Fields">
             <psk-list list-type="unordered">
                    <code><b>id</b></code>
                        A random bytes <code>Buffer</code> of variable length. By default, it has a length of 32 bytes.
                        The <code>id</code> is used to for locating the bar associated with the SEED in EDFS. <br><br>
                    <code><b>endpoint</b></code>
                        The address of the EDFS node that stores the bar associated with the SEED. The bar associated with
                        the SEED is stored at the URL <code>endpoint/id</code>.
                </psk-list>
         </psk-card>
    </psk-chapter>
    <psk-chapter title="Seed API">
        <psk-card title="constructor">
                The Seed class' constructor generates a Seed instance from a previously generated Seed's compact form
                or from a provided endpoint and/or id. In case a compact form is not provided, specifying the endpoint is
                mandatory. If only the endpoint is provided, the id is generated by the Seed class using the <code>randomBytes</code>
                function from the <code>crypto</code> module.
            <psk-card title="Syntax">
                <psk-code language="JavaScript">
                    Seed(compactSeed, id, endpoint[, idLen]);
                </psk-code>
                <psk-card title="Parameters">
                     <psk-list list-type="unordered">
                         <code><b>compactSeed</b></code>
                             The <code>compact form</code> of a previously generated SEED. A SEED's <code>compact form</code>
                             is a <code>string</code> resulted by the concatenation of the <code>base58</code> encoded
                             <code>id</code> and the <code>base58</code> encoded endpoint separated by the character
                             <code>|</code><br><br>
                         <code><b>id</b></code>
                            A previously generated id. If an id is provided to the Seed constructor, the created Seed
                            instance will have the provided id. <br><br>
                         <code><b>endpoint</b></code>
                            The endpoint that the Seed instance receives.<br><br>
                         <code><b>idLen</b></code> <b>|</b> Optional
                            The generated id length in bytes when the Seed constructor receives only an endpoint.
                     </psk-list>
                </psk-card>
            </psk-card>
        </psk-card>
        <psk-card title="getCompactForm">
                Returns the Seed's <code>compact form</code>. A SEED's <code>compact form</code>
                is a <code>string</code> resulted by the concatenation of the <code>base58</code> encoded
                <code>id</code> and the <code>base58</code> encoded endpoint separated by the character
                <code>|</code>. In other words:
            <psk-code language="JavaScript">
                compactForm = base58.encode(id) + "|" + base58.encode(endpoint);
            </psk-code>
            <psk-card title="Syntax">
                <psk-code language="JavaScript">
                    getCompactForm();
                </psk-code>
            </psk-card>
        </psk-card>
        <psk-card title="getId">
               Returns a string representing the hexadecimal representation of the SEED's id, used for locating the bar in EDFS.
            <psk-card title="Syntax">
                <psk-code language="JavaScript">
                    getId();
                </psk-code>
            </psk-card>
        </psk-card>
        <psk-card title="getEndpoint">
                Returns the Seed's endpoint.
            <psk-card title="Syntax">
                <psk-code language="JavaScript">
                    getEndpoint();
                </psk-code>
            </psk-card>
        </psk-card>
        </psk-card>
        <psk-card title="getEncryptionKey">
                Returns a <code>Buffer</code> used for encrypting/decrypting the bar associated with the SEED. The cryptographic
                key is generated applying the <code>pbkdf2</code> function on the Seed's <code>compact form</code>.
            <psk-card title="Syntax">
                <psk-code language="JavaScript">
                    getEncryptionKey(algorithm);
                </psk-code>
                <psk-card title="Parameters">
                    <psk-list list-type="unordered">
                        <code><b>algorithm</b></code>
                            A string representing the encryption algorithm's name as defined in <code>Open SSL</code>.
                            Based on the provided <code>algorithm</code> the encryption key's length is determined.
                    </psk-list>
                </psk-card>
            </psk-card>
        </psk-card>
        </psk-card>

    </psk-chapter>
</psk-page>